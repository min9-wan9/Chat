<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ’¬ Chat App - Modern Messenger</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Room Sidebar -->
        <div class="sidebar" id="roomSidebar">
            <div class="sidebar-header">
                <h3>ğŸ  PhÃ²ng Chat</h3>
                <div class="sidebar-subtitle">Danh sÃ¡ch cÃ¡c phÃ²ng</div>
            </div>
            <div class="sidebar-content" id="roomList">
                <button class="new-room-btn btn-full" onclick="createNewRoom()">â• Táº¡o phÃ²ng má»›i</button>
            </div>
        </div>

        <!-- User Sidebar -->
        <div class="sidebar" id="userSidebar" style="display: none;">
            <div class="sidebar-header">
                <h3>ğŸ‘¥ ThÃ nh viÃªn</h3>
                <div class="sidebar-subtitle" id="userCount">0 ngÆ°á»i online</div>
            </div>
            <div class="sidebar-content" id="userList"></div>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Header -->
            <div class="header">
                <div class="header-left">
                    <button class="toggle-sidebar-btn" onclick="toggleSidebar()">â˜°</button>
                    <div>
                        <h1 id="currentRoomName">ğŸ’¬ Chat App</h1>
                        <div class="status">
                            <span class="status-dot"></span>
                            <span id="statusText">Äang káº¿t ná»‘i...</span>
                        </div>
                    </div>
                </div>
                <button class="toggle-sidebar-btn" onclick="toggleUserSidebar()">ğŸ‘¥ ThÃ nh viÃªn</button>
            </div>

            <!-- Join Section -->
            <div class="join-section" id="joinSection">
                <div class="join-box">
                    <h2 style="margin-bottom: 30px; text-align: center; color: #667eea;">Tham gia Chat</h2>
                    <div class="input-group">
                        <label>ğŸ‘¤ TÃªn cá»§a báº¡n</label>
                        <input type="text" id="username" placeholder="Nháº­p tÃªn cá»§a báº¡n..." autocomplete="off">
                    </div>
                    <div class="input-group">
                        <label>ğŸ  TÃªn phÃ²ng</label>
                        <input type="text" id="room" placeholder="VÃ­ dá»¥: Java, Python, React..." autocomplete="off" value="General">
                    </div>
                    <button class="btn-full" onclick="join()">ğŸš€ VÃ o phÃ²ng chat</button>
                </div>
            </div>

            <!-- Chat Area -->
            <div class="chat-area" id="chatArea" style="display: none;"></div>

            <!-- Typing Indicator -->
            <div class="typing-indicator" id="typingIndicator"></div>

            <!-- Input Area -->
            <div class="input-area" style="display: none;" id="inputArea">
                <div class="input-wrapper">
                    <input type="text" id="message" placeholder="Nháº­p tin nháº¯n..." autocomplete="off" 
                           onkeypress="handleEnter(event)" oninput="handleTyping()">
                    <label for="fileInput" class="file-upload-btn" title="Gá»­i file">ğŸ“</label>
                    <input type="file" id="fileInput" style="display: none;" 
                           onchange="handleFileSelect(event)" 
                           accept="image/*,video/*,.pdf,.doc,.docx">
                </div>
                <button class="send-btn" onclick="send()">ğŸ“¤ Gá»­i</button>
            </div>

            <!-- Private Chat Overlay -->
            <div class="private-chat-overlay" id="privateChatOverlay">
                <div class="private-chat-header">
                    <div class="private-chat-title" id="privateChatTitle">ğŸ’¬ Chat riÃªng</div>
                    <button class="close-private-btn" onclick="closePrivateChat()">âœ• ÄÃ³ng</button>
                </div>
                <div class="chat-area" id="privateChatArea"></div>
                <div class="typing-indicator"></div>
                <div class="input-area">
                    <input type="text" id="privateMessage" placeholder="Nháº­p tin nháº¯n riÃªng..." 
                           autocomplete="off" onkeypress="handlePrivateEnter(event)" 
                           style="padding-right: 16px;">
                    <button class="send-btn" onclick="sendPrivate()">ğŸ“¤ Gá»­i</button>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
